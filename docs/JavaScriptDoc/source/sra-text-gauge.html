<!doctype html>
<html>
  <head>
    <base href="../">
    <title>JSDoc: source : TextGauge.js</title>
    <link type="text/css" rel="stylesheet" href="css/jsdoc-default.css">
    <link href="css/prettify-tomorrow.css" type="text/css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,700" rel="stylesheet" type="text/css">
    <link href="css/custom.css" type="text/css" rel="stylesheet">
    <script src="js/prettify.js"></script>
    <script src="js/angular.min.js"></script>
  </head>
  <body ng-app="">
    <nav>
      <h2><a href="index.html">Index</a></h2>
      <ul class="module">
        <!-- undefined -->
        <h3>
          <a href="" ng-click="moduleundefined = !moduleundefined">
            module: undefined
          </a>
          <i ng-cloak="" ng-show="moduleundefined">+</i>
        </h3>
        <li id="undefined" ng-hide="moduleundefined">
          <ul class="group">
            <h3>
              <a href="" ng-click="undefinedapps = !undefinedapps">
                apps
              </a>
              <i ng-cloak="" ng-show="undefinedapps">+</i>
            </h3>
            <ul ng-hide="undefinedapps">
              <li>
                <a href="CrewChief.html">CrewChief</a>
              </li><li>
                <a href="CrewChief-Large.html">CrewChief-Large</a>
              </li><li>
                <a href="Dash-BarGauges-DigitalOverlay.html">Dash-BarGauges-DigitalOverlay</a>
              </li><li>
                <a href="Dash-Gauges-Spek.html">Dash-Gauges-Spek</a>
              </li><li>
                <a href="Dash-Gauges-Spek-Horizontal.html">Dash-Gauges-Spek-Horizontal</a>
              </li><li>
                <a href="Dash-Minimum.html">Dash-Minimum</a>
              </li><li>
                <a href="Dash-Small.html">Dash-Small</a>
              </li><li>
                <a href="Dash-StockCars-DigitalOverlay.html">Dash-StockCars-DigitalOverlay</a>
              </li><li>
                <a href="NASCAR-Analog-Dash.html">NASCAR-Analog-Dash</a>
              </li><li>
                <a href="NASCAR-Digital-Dash.html">NASCAR-Digital-Dash</a>
              </li><li>
                <a href="RaceAdministrator.html">RaceAdministrator</a>
              </li><li>
                <a href="Spectator.html">Spectator</a>
              </li><li>
                <a href="Spectator60.html">Spectator60</a>
              </li><li>
                <a href="Spotter.html">Spotter</a>
              </li><li>
                <a href="Spotter60.html">Spotter60</a>
              </li><li>
                <a href="StreamingOverlay.html">StreamingOverlay</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="undefineddirective = !undefineddirective">
                directive
              </a>
              <i ng-cloak="" ng-show="undefineddirective">+</i>
            </h3>
            <ul ng-hide="undefineddirective">
              <li>
                <a href="sra-a-b-s-active.html">sra-a-b-s-active</a>
              </li><li>
                <a href="sra-analog-gauge.html">sra-analog-gauge</a>
              </li><li>
                <a href="sra-analog-gauge-spek-brake-pressure.html">sra-analog-gauge-spek-brake-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-fuel-level.html">sra-analog-gauge-spek-fuel-level</a>
              </li><li>
                <a href="sra-analog-gauge-spek-fuel-pressure.html">sra-analog-gauge-spek-fuel-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-h-y-s-charge.html">sra-analog-gauge-spek-h-y-s-charge</a>
              </li><li>
                <a href="sra-analog-gauge-spek-h-y-s-deployment.html">sra-analog-gauge-spek-h-y-s-deployment</a>
              </li><li>
                <a href="sra-analog-gauge-spek-oil-level.html">sra-analog-gauge-spek-oil-level</a>
              </li><li>
                <a href="sra-analog-gauge-spek-oil-pressure.html">sra-analog-gauge-spek-oil-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-oil-temp.html">sra-analog-gauge-spek-oil-temp</a>
              </li><li>
                <a href="sra-analog-gauge-spek-speedometer.html">sra-analog-gauge-spek-speedometer</a>
              </li><li>
                <a href="sra-analog-gauge-spek-tachometer.html">sra-analog-gauge-spek-tachometer</a>
              </li><li>
                <a href="sra-analog-gauge-spek-voltage.html">sra-analog-gauge-spek-voltage</a>
              </li><li>
                <a href="sra-analog-gauge-spek-water-level.html">sra-analog-gauge-spek-water-level</a>
              </li><li>
                <a href="sra-analog-gauge-spek-water-pressure.html">sra-analog-gauge-spek-water-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-water-temp.html">sra-analog-gauge-spek-water-temp</a>
              </li><li>
                <a href="sra-bar-gauge.html">sra-bar-gauge</a>
              </li><li>
                <a href="sra-bar-gauge-brake-pressure.html">sra-bar-gauge-brake-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-fuel-level.html">sra-bar-gauge-fuel-level</a>
              </li><li>
                <a href="sra-bar-gauge-fuel-pressure.html">sra-bar-gauge-fuel-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-h-y-s-charge.html">sra-bar-gauge-h-y-s-charge</a>
              </li><li>
                <a href="sra-bar-gauge-h-y-s-deployment.html">sra-bar-gauge-h-y-s-deployment</a>
              </li><li>
                <a href="sra-bar-gauge-oil-level.html">sra-bar-gauge-oil-level</a>
              </li><li>
                <a href="sra-bar-gauge-oil-pressure.html">sra-bar-gauge-oil-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-oil-temp.html">sra-bar-gauge-oil-temp</a>
              </li><li>
                <a href="sra-bar-gauge-speedometer.html">sra-bar-gauge-speedometer</a>
              </li><li>
                <a href="sra-bar-gauge-tachometer.html">sra-bar-gauge-tachometer</a>
              </li><li>
                <a href="sra-bar-gauge-voltage.html">sra-bar-gauge-voltage</a>
              </li><li>
                <a href="sra-bar-gauge-water-level.html">sra-bar-gauge-water-level</a>
              </li><li>
                <a href="sra-bar-gauge-water-pressure.html">sra-bar-gauge-water-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-water-temp.html">sra-bar-gauge-water-temp</a>
              </li><li>
                <a href="sra-camera-selector.html">sra-camera-selector</a>
              </li><li>
                <a href="sra-camera-selector30.html">sra-camera-selector30</a>
              </li><li>
                <a href="sra-camera-selector-vertical30.html">sra-camera-selector-vertical30</a>
              </li><li>
                <a href="sra-car-controls.html">sra-car-controls</a>
              </li><li>
                <a href="sra-car-image.html">sra-car-image</a>
              </li><li>
                <a href="sra-car-image-extended.html">sra-car-image-extended</a>
              </li><li>
                <a href="sra-car-left.html">sra-car-left</a>
              </li><li>
                <a href="sra-car-number.html">sra-car-number</a>
              </li><li>
                <a href="sra-car-number-extended.html">sra-car-number-extended</a>
              </li><li>
                <a href="sra-car-right.html">sra-car-right</a>
              </li><li>
                <a href="sra-car-selector.html">sra-car-selector</a>
              </li><li>
                <a href="sra-car-selector64.html">sra-car-selector64</a>
              </li><li>
                <a href="sra-car-selector-images.html">sra-car-selector-images</a>
              </li><li>
                <a href="sra-car-selector-images64.html">sra-car-selector-images64</a>
              </li><li>
                <a href="sra-car-telemetry.html">sra-car-telemetry</a>
              </li><li>
                <a href="sra-chart-test.html">sra-chart-test</a>
              </li><li>
                <a href="sra-chat.html">sra-chat</a>
              </li><li>
                <a href="sra-compteur.html">sra-compteur</a>
              </li><li>
                <a href="sra-data-table.html">sra-data-table</a>
              </li><li>
                <a href="sra-driver-info.html">sra-driver-info</a>
              </li><li>
                <a href="sra-driver-rating.html">sra-driver-rating</a>
              </li><li>
                <a href="sra-flags.html">sra-flags</a>
              </li><li>
                <a href="sra-flags-bar.html">sra-flags-bar</a>
              </li><li>
                <a href="sra-flags-bar-horizontal.html">sra-flags-bar-horizontal</a>
              </li><li>
                <a href="sra-fuel-tank.html">sra-fuel-tank</a>
              </li><li>
                <a href="sra-gear.html">sra-gear</a>
              </li><li>
                <a href="sra-gforce.html">sra-gforce</a>
              </li><li>
                <a href="sra-in-car-adjustments.html">sra-in-car-adjustments</a>
              </li><li>
                <a href="sra-in-garage.html">sra-in-garage</a>
              </li><li>
                <a href="sra-incidents.html">sra-incidents</a>
              </li><li>
                <a href="sra-lap-times.html">sra-lap-times</a>
              </li><li>
                <a href="sra-lap-timing.html">sra-lap-timing</a>
              </li><li>
                <a href="sra-laps-banner.html">sra-laps-banner</a>
              </li><li>
                <a href="sra-messages.html">sra-messages</a>
              </li><li>
                <a href="sra-pedals.html">sra-pedals</a>
              </li><li>
                <a href="sra-pit-commander.html">sra-pit-commander</a>
              </li><li>
                <a href="sra-pit-road.html">sra-pit-road</a>
              </li><li>
                <a href="sra-pit-road-lights.html">sra-pit-road-lights</a>
              </li><li>
                <a href="sra-radio-control.html">sra-radio-control</a>
              </li><li>
                <a href="sra-radio-transmitting.html">sra-radio-transmitting</a>
              </li><li>
                <a href="sra-relative.html">sra-relative</a>
              </li><li>
                <a href="sra-relative-small.html">sra-relative-small</a>
              </li><li>
                <a href="sra-replay-control.html">sra-replay-control</a>
              </li><li>
                <a href="sra-s-i-m-state.html">sra-s-i-m-state</a>
              </li><li>
                <a href="sra-s-i-m-time.html">sra-s-i-m-time</a>
              </li><li>
                <a href="sra-s-r-a-logo.html">sra-s-r-a-logo</a>
              </li><li>
                <a href="sra-s-r-a-logo-u-r-l.html">sra-s-r-a-logo-u-r-l</a>
              </li><li>
                <a href="sra-shift-light.html">sra-shift-light</a>
              </li><li>
                <a href="sra-shift-lights.html">sra-shift-lights</a>
              </li><li>
                <a href="sra-standings.html">sra-standings</a>
              </li><li>
                <a href="sra-standings-banner.html">sra-standings-banner</a>
              </li><li>
                <a href="sra-standings-banner-class-vertical.html">sra-standings-banner-class-vertical</a>
              </li><li>
                <a href="sra-standings-banner-class-vertical20.html">sra-standings-banner-class-vertical20</a>
              </li><li>
                <a href="sra-standings-banner-vertical.html">sra-standings-banner-vertical</a>
              </li><li>
                <a href="sra-standings-banner-vertical20.html">sra-standings-banner-vertical20</a>
              </li><li>
                <a href="sra-standings-top-10.html">sra-standings-top-10</a>
              </li><li>
                <a href="sra-standings-top-20.html">sra-standings-top-20</a>
              </li><li>
                <a href="sra-standings-top-35.html">sra-standings-top-35</a>
              </li><li>
                <a href="sra-standings-top-43.html">sra-standings-top-43</a>
              </li><li>
                <a href="sra-standings-top-60.html">sra-standings-top-60</a>
              </li><li>
                <a href="sra-steering-wheel.html">sra-steering-wheel</a>
              </li><li>
                <a href="sra-team-speak-talking.html">sra-team-speak-talking</a>
              </li><li>
                <a href="sra-template.html">sra-template</a>
              </li><li>
                <a href="sra-text-gauge.html">sra-text-gauge</a>
              </li><li>
                <a href="sra-text-gauge-brake-bias-adjustment.html">sra-text-gauge-brake-bias-adjustment</a>
              </li><li>
                <a href="sra-text-gauge-brake-pressure.html">sra-text-gauge-brake-pressure</a>
              </li><li>
                <a href="sra-text-gauge-fuel-level.html">sra-text-gauge-fuel-level</a>
              </li><li>
                <a href="sra-text-gauge-fuel-pressure.html">sra-text-gauge-fuel-pressure</a>
              </li><li>
                <a href="sra-text-gauge-h-y-s-charge.html">sra-text-gauge-h-y-s-charge</a>
              </li><li>
                <a href="sra-text-gauge-h-y-s-deployment.html">sra-text-gauge-h-y-s-deployment</a>
              </li><li>
                <a href="sra-text-gauge-oil-level.html">sra-text-gauge-oil-level</a>
              </li><li>
                <a href="sra-text-gauge-oil-pressure.html">sra-text-gauge-oil-pressure</a>
              </li><li>
                <a href="sra-text-gauge-oil-temp.html">sra-text-gauge-oil-temp</a>
              </li><li>
                <a href="sra-text-gauge-speedometer.html">sra-text-gauge-speedometer</a>
              </li><li>
                <a href="sra-text-gauge-tachometer.html">sra-text-gauge-tachometer</a>
              </li><li>
                <a href="sra-text-gauge-voltage.html">sra-text-gauge-voltage</a>
              </li><li>
                <a href="sra-text-gauge-water-level.html">sra-text-gauge-water-level</a>
              </li><li>
                <a href="sra-text-gauge-water-pressure.html">sra-text-gauge-water-pressure</a>
              </li><li>
                <a href="sra-text-gauge-water-temp.html">sra-text-gauge-water-temp</a>
              </li><li>
                <a href="sra-time.html">sra-time</a>
              </li><li>
                <a href="sra-timing-delta.html">sra-timing-delta</a>
              </li><li>
                <a href="sra-tire.html">sra-tire</a>
              </li><li>
                <a href="sra-tire-measurements.html">sra-tire-measurements</a>
              </li><li>
                <a href="sra-track-map.html">sra-track-map</a>
              </li><li>
                <a href="sra-track-map-car.html">sra-track-map-car</a>
              </li><li>
                <a href="sra-track-map-finish-line.html">sra-track-map-finish-line</a>
              </li><li>
                <a href="sra-track-map-merge-point.html">sra-track-map-merge-point</a>
              </li><li>
                <a href="sra-track-map-sector.html">sra-track-map-sector</a>
              </li><li>
                <a href="sra-waiting-for-s-i-m.html">sra-waiting-for-s-i-m</a>
              </li><li>
                <a href="sra-weather-info.html">sra-weather-info</a>
              </li><li>
                <a href="sra-wind-gauge.html">sra-wind-gauge</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- module_____acing_pps -->
        <h3>
          <a href="" ng-click="modulemodule_____acing_pps = !modulemodule_____acing_pps">
            module: module:SIMRacingApps
          </a>
          <i ng-cloak="" ng-show="modulemodule_____acing_pps">+</i>
        </h3>
        <li id="module:SIMRacingApps" ng-hide="modulemodule_____acing_pps">
          <ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppsfilter = !module_____acing_ppsfilter">
                filter
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppsfilter">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppsfilter">
              <li>
                <a href="module-SIMRacingApps.sraCeil.html">sraCeil</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDate.html">sraDate</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDebug.html">sraDebug</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDecodeEntities.html">sraDecodeEntities</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDuration.html">sraDuration</a>
              </li><li>
                <a href="module-SIMRacingApps.sraEncodeEntities.html">sraEncodeEntities</a>
              </li><li>
                <a href="module-SIMRacingApps.sraFloor.html">sraFloor</a>
              </li><li>
                <a href="module-SIMRacingApps.sraHex.html">sraHex</a>
              </li><li>
                <a href="module-SIMRacingApps.sraLowerCase.html">sraLowerCase</a>
              </li><li>
                <a href="module-SIMRacingApps.sraLPad.html">sraLPad</a>
              </li><li>
                <a href="module-SIMRacingApps.sraNumber.html">sraNumber</a>
              </li><li>
                <a href="module-SIMRacingApps.sraRGB.html">sraRGB</a>
              </li><li>
                <a href="module-SIMRacingApps.sraRound.html">sraRound</a>
              </li><li>
                <a href="module-SIMRacingApps.sraRPad.html">sraRPad</a>
              </li><li>
                <a href="module-SIMRacingApps.sraUpperCase.html">sraUpperCase</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppsdirective = !module_____acing_ppsdirective">
                directive
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppsdirective">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppsdirective">
              <li>
                <a href="module-SIMRacingApps-sra-data.html">sra-data</a>
              </li><li>
                <a href="module-SIMRacingApps-sra-horizontal-align.html">sra-horizontal-align</a>
              </li><li>
                <a href="module-SIMRacingApps-sra-resize.html">sra-resize</a>
              </li><li>
                <a href="module-SIMRacingApps-sra-vertical-align.html">sra-vertical-align</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppscontroller = !module_____acing_ppscontroller">
                controller
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppscontroller">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppscontroller">
              <li>
                <a href="module-SIMRacingApps-sraController.html">sraController</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppsfactory = !module_____acing_ppsfactory">
                factory
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppsfactory">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppsfactory">
              <li>
                <a href="module-SIMRacingApps-sraDispatcher.html">sraDispatcher</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul>
    </nav>
    <div id="content" class="page-wrap">
      <h1 class="title">
        source : TextGauge.js
      </h1>
      <div id="main" class="big-container">
        <!-- source code html -->
        <article>
          <pre class="prettyprint source linenums"><code>'use strict';/** * This widget is a generic implementation of a Text Gauge.  * All of the Text Gauges simply use this widget by passing in the different parameters. * It is configured using the available arguments. * All sizes are in pixels relative to 320x120.  * If a gauge is resized, it will automatically adjust these values. * &lt;p> * Example of how the Tachometer uses this: * &lt;p>&lt;b> * &lt;pre> *  &lt;sra-text-gauge *       class                          = "SIMRacingApps-Widget-TextGauge-Tachometer" *       data-sra-args-text-gauge       = "Tachometer" *       data-sra-args-gauge-value      = "Current" *       data-sra-args-round-to         = "10" *       data-sra-args-decimals         = "0" *       data-sra-args-show-text-label  = "{{sraShowTextLabel}}" *       data-sra-args-interval         = "{{sraArgsInterval||sraInterval}}" *  &gt;&lt;/sra-text-gauge&gt; * &lt;/pre>&lt;/b> * &lt;img src="../widgets/TextGauge/Tachometer/icon.png" /> * @ngdoc directive * @name sra-text-gauge * @param {string} data-sra-args-text-gauge The name of the gauge that the SIM will use to send the values from.  *                 See, &lt;a href="../JavaDoc/com/SIMRacingApps/Gauge.Type.html">Gauges&lt;/a>, for avaiLabel values. Defaults to "Generic". * @param {string} data-sra-args-gauge-value Either the "Current" or "Next" values. Defaults to "Current". * @param {boolean} data-sra-args-use-speedometer The condition, true or false, to get the Tachometer to use the speed to determine the states relating to pit road speed. *          Defaults to true. If set to false, it uses the RPMs while in 2nd Gear that the SIM returns.  *          if your app or widget implements a way for the user to set it (like in the real stock cars),  *          then calling "/SIMRacingApps/Data/Car/REFERENCE/setRPMPitRoadSpeed/{RPM}" will set it for that session.  *          Otherwise, it will use the default from Car.json or the car specific json files for each SIM where it can be defined by track.  *          (NOTE: As of version 1.0, the json files have not been updated and the default is 3950.) * @param {string} data-sra-args-show-text-label The title of the gauge. Defaults to the gauge's label1 and lable2 values. * @param {double} data-sra-args-round-to The value to round the digital values to. Defaults to 1.0. * @param {integer} data-sra-args-decimals The number of decimals places to show the digital value. * @param {string} data-sra-args-uom The unit of measure to show the entire gauge in. * @param {milliseconds} data-sra-args-flash-rate The rate to flash when CRITICAL state is reached. * @param {boolean} data-sra-args-flash-on-critical Enable or disable the flash on critical. Defaults to true. * @author Jeffrey Gilliam * @since 1.10 * @copyright Copyright (C) 2015 - 2024 Jeffrey Gilliam * @license Apache License 2.0 */define(['SIMRacingApps','css!widgets/TextGauge/TextGauge'],function(SIMRacingApps) {    var self = {        name:            "sraTextGauge",        url:             'TextGauge',        template:        'TextGauge.html',        defaultWidth:    320,        defaultHeight:   120,        defaultInterval: 300   //initialize with the default interval    };    self.module = angular.module('SIMRacingApps'); //get the main module    self.module.directive(self.name,           ['sraDispatcher', '$filter', '$location', '$interval', '$rootScope',    function(sraDispatcher,  $filter,   $location,    $interval,   $rootScope) {        return {            restrict: 'EA',            scope: true,            templateUrl: sraDispatcher.getWidgetUrl(self.url) + '/' + self.template,            controller: [ '$scope', function($scope) {                $scope.directiveName   = self.name;                $scope.defaultWidth    = self.defaultWidth;                $scope.defaultHeight   = self.defaultHeight;                $scope.defaultInterval = self.defaultInterval;                $scope.thousandsSeparator = $filter('number')(1000.1,1).toString().substr(1,1);                $scope.sraTextGauge    = "Generic";                $scope.gaugeValue      = 'Current'; //or Next                $scope.sraArgsLabel   = "";                $scope.argsUOM        = "";                $scope.flashRate      = 300;                $scope.flashRateLimiter=500;                $scope.flashOnCritical= true;                $scope.sraLabel       = "";                $scope.xLabel         = 1;                $scope.yLabel         = 25;                $scope.fontSizeLabel  = 30;                $scope.anchorLabel    = 'start';                $scope.showLabel      = true;                $scope.showLabelUOM   = false;                $scope.sraValue       = "0";                $scope.uom            = "";                $scope.fontSizeValue  = 70;                $scope.xValue         = 1;                $scope.yValue         = 85;                $scope.anchorValue    = 'start';                $scope.showUOM        = true;                $scope.decimals       = 1;                $scope.roundTo        = 1;                $scope.updateValue = function() {                    var v = sraDispatcher.getTruthy($scope.data.Car.REFERENCE.Gauge[$scope.sraTextGauge]['Value'+$scope.gaugeValue][$scope.argsUOM].Value,0);                    v = $filter('sraRound')(v,$scope.roundTo);                    v = $filter('sraNumber')(v,$scope.decimals,false/*blankIfZero*/,false/*showPositive*/,false/*showThousandsSeparator*/,false/*showApproximateOnly*/);                    $scope.sraValue = v;                    $scope.uom = sraDispatcher.getTruthy($scope.data.Car.REFERENCE.Gauge[$scope.sraTextGauge]['Value'+$scope.gaugeValue][$scope.argsUOM].UOMAbbr,"");                };                $scope.updateLabels = function() {                    if ($scope.showLabelUOM) {                        $scope.uom = sraDispatcher.getTruthy($scope.data.Car.REFERENCE.Gauge[$scope.sraTextGauge]['Value'+$scope.gaugeValue][$scope.argsUOM].UOMAbbr,"");                        $scope.sraLabel = $scope.sraArgsLabel || $scope.uom.toUpperCase();                    }                    else {                        $scope.Label1 = $scope.data.Car.REFERENCE.Gauge[$scope.sraTextGauge].Name.ValueFormatted;                        $scope.Label2 = $scope.data.Car.REFERENCE.Gauge[$scope.sraTextGauge].TypeName.ValueFormatted;                        if ($scope.gaugeValue.toUpperCase() == "NEXT")                            $scope.Label2 += " PIT";                        $scope.sraLabel = $scope.sraArgsLabel || ($scope.Label1 + " " + $scope.Label2);                    }                };                $scope.updateColor = function() {                    var pitLimiter = ($scope.sraTextGauge.toUpperCase() == "TACHOMETER" || $scope.sraTextGauge.toUpperCase() == "SPEEDOMETER") && $scope.data.Car.REFERENCE.Messages.Value.indexOf(";PITSPEEDLIMITER;") >= 0;                    $scope.state      = $scope.data.Car.REFERENCE.Gauge[$scope.sraTextGauge]['Value'+$scope.gaugeValue][$scope.argsUOM].State        || "NOTAVAILABLE";//$scope.state = "CRITICAL";                    $scope.stateClass = 'SIMRacingApps-Widget-TextGauge-state-'+$scope.state;                    //stop the blinking if we are not in the critical state.                    if (!(pitLimiter || sraDispatcher.State.isSHIFTBLINK($scope.state) || sraDispatcher.State.isCRITICAL($scope.state)) && $scope._blink) {                        $interval.cancel($scope._blink);                        $scope._blink = null;                    }                    if ((pitLimiter || sraDispatcher.State.isSHIFTBLINK($scope.state) || sraDispatcher.State.isCRITICAL($scope.state)) && $scope.flashOnCritical) {                        //TODO: Make it blink between critical and warning, self.blinkRate                        if ($scope._blink == null) {                            $scope._blink = $interval(function() {                                if ($scope.stateClass != 'SIMRacingApps-Widget-TextGauge-state-CRITICAL') {                                    $scope.stateClass = 'SIMRacingApps-Widget-TextGauge-state-CRITICAL';                                }                                else {                                    $scope.stateClass = 'SIMRacingApps-Widget-TextGauge-state-NORMAL';                                }                            }, pitLimiter ? $scope.flashRateLimiter : $scope.flashRate);                        }                    }                    else                    if ($scope.useSpeedometer                    && (  sraDispatcher.State.isNORMAL($scope.state)                       || sraDispatcher.State.isLIMIT($scope.state)                       || sraDispatcher.State.isAPPROACHINGLIMIT($scope.state)                       || sraDispatcher.State.isOVERLIMIT($scope.state)                       || sraDispatcher.State.isWAYOVERLIMIT($scope.state)                       )                    ) {                        $scope.state       = $scope.data.Car.REFERENCE.Gauge.Speedometer.ValueCurrent.State  || "NORMAL";                        $scope.stateClass  = 'SIMRacingApps-Widget-TextGauge-state-'+$scope.state;                    }                };            }]            , link: function($scope,$element,$attrs) {                //copy arguments to our $scope                $scope.sraTextGauge   = sraDispatcher.getTruthy($scope.sraArgsTextGauge     , $attrs.sraTextGauge           , $attrs.sraArgsValue      , $scope.sraTextGauge);                $scope.gaugeValue     = sraDispatcher.getTruthy($scope.sraArgsGAUGEVALUE    , $attrs.sraGaugeValue          , $attrs.sraArgsGaugeValue , $scope.gaugeValue);                $scope.sraArgsLabel   = sraDispatcher.getTruthy($scope.sraArgsLABEL         , $attrs.sraArgsLabel           , $scope.sraArgsLabel);                $scope.xLabel         = sraDispatcher.getTruthy($scope.sraArgsXLABEL        , $attrs.sraArgsXLabel          , $scope.xLabel)         * 1;                $scope.yLabel         = sraDispatcher.getTruthy($scope.sraArgsYLABEL        , $attrs.sraArgsYLabel          , $scope.yLabel)         * 1;                $scope.fontSizeLabel  = sraDispatcher.getTruthy($scope.sraArgsFONTSIZELABEL , $attrs.sraArgsFontSizeLabel   , $scope.fontSizeLabel)  * 1;                $scope.anchorLabel    = sraDispatcher.getTruthy($scope.sraArgsANCHORLABEL   , $attrs.sraArgsAnchorLabel     , $scope.anchorLabel);                $scope.xValue         = sraDispatcher.getTruthy($scope.sraArgsXVALUE        , $attrs.sraArgsXValue          , $scope.xValue)         * 1;                $scope.yValue         = sraDispatcher.getTruthy($scope.sraArgsYVALUE        , $attrs.sraArgsYValue          , $scope.yValue)         * 1;                $scope.fontSizeValue  = sraDispatcher.getTruthy($scope.sraArgsFONTSIZEVALUE , $attrs.sraArgsFontSizeValue   , $scope.fontSizeValue)  * 1;                $scope.anchorValue    = sraDispatcher.getTruthy($scope.sraArgsANCHORVALUE   , $attrs.sraArgsAnchorValue     , $scope.anchorValue);                $scope.roundTo        = sraDispatcher.getTruthy($scope.sraArgsROUNDTO       , $attrs.sraArgsRoundTo         , $scope.roundTo)        * 1;                $scope.decimals       = sraDispatcher.getTruthy($scope.sraArgsDECIMALS      , $attrs.sraArgsDecimals        , $scope.decimals)       * 1;                $scope.argsUOM        = sraDispatcher.getTruthy($scope.sraArgsUOM           , $attrs.sraArgsUom             , $scope.argsUOM);                $scope.showUOM        = sraDispatcher.getBoolean($scope.sraArgsSHOWUOM      , $attrs.sraArgsShowUOM         , $scope.sraArgsShowUOM, $scope.showUOM);                $scope.showLabelUOM   = sraDispatcher.getBoolean($scope.sraArgsLABELUOM     , $attrs.sraArgsLabelUOM        , $scope.sraArgsLabelUOM, $scope.showLabelUOM);                $scope.flashRate      = sraDispatcher.getTruthy($scope.sraArgsFLASHRATE     , $attrs.sraArgsFlashRate       , $scope.flashRate)      * 1;                $scope.flashOnCritical= sraDispatcher.getBoolean($scope.sraArgsFLASHONCRITICAL,$attrs.sraArgsFlashOnCritical ,$scope.flashOnCritical);                //these arguments can be overridden from the url                $scope.showLabel      = sraDispatcher.getBoolean($scope.sraArgsSHOWLABEL    , $attrs.sraArgsShowLabel       , $scope.sraArgsShowLabel, $scope.showLabel);                $scope.useSpeedometer = $scope.sraTextGauge.toUpperCase() == "TACHOMETER"                                     ? sraDispatcher.getBoolean($scope.sraArgsTACHUSESPEEDOMETER, $attrs.sraArgsUseSpeedometer, $scope.useSpeedometer)                                     : false;                $attrs.sraArgsData =                                ";Car/REFERENCE/Gauge/"+$scope.sraTextGauge+"/Value"+$scope.gaugeValue+"/"+$scope.argsUOM                              + ";Car/REFERENCE/Gauge/"+$scope.sraTextGauge+"/Multiplier"                              + ";Car/REFERENCE/Gauge/"+$scope.sraTextGauge+"/Name"                              + ";Car/REFERENCE/Gauge/"+$scope.sraTextGauge+"/TypeName"                ;                $attrs.sraUOM    = $scope.uom;                $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"'].Multiplier.Value",                                            $scope.updateValue);                $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"']['Value"+$scope.gaugeValue+"']['"+$scope.argsUOM+"'].Value",   $scope.updateValue);                $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"']['Value"+$scope.gaugeValue+"']['"+$scope.argsUOM+"'].UOM",     $scope.updateValue);                $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"'].Name.Value",                                                  $scope.updateLabels);                $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"'].TypeName.Value",                                              $scope.updateLabels);                $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"']['Value"+$scope.gaugeValue+"']['"+$scope.argsUOM+"'].State",   $scope.updateColor);                //if it's the brake pressure gauge, show the bias value if it has one                if ($scope.sraTextGauge.toUpperCase() == "BRAKEPRESSURE") {                    $attrs.sraArgsData += ";Car/REFERENCE/Gauge/BrakeBiasAdjustment/ValueCurrent";                    $scope.$watch("data.Car.REFERENCE.Gauge.BrakeBiasAdjustment.ValueCurrent.Value", function(oldValue,newValue) {                        var bias = $scope.data.Car.REFERENCE.Gauge.BrakeBiasAdjustment.ValueCurrent;                        if (bias.State == 'NORMAL') {                            //if just the delta, show only 2 decimals, else none                            if ((bias.Value > 0 && bias.Value &lt; 10.0) || (bias.Value &lt; 0 && bias.Value > -10.0))                                $scope.value2 = $filter('sraNumber')(bias.Value,2,false);                            else                                $scope.value2 = $filter('sraNumber')(bias.Value,1,false);                            $scope.uom2   = bias.UOMAbbr;                        }                        else {                            $scope.value2 = $scope.uom2 = "";                        }//$scope.value2 = -2.25; $scope.uom2 = '%';                    });                }                if ($scope.sraTextGauge.toUpperCase() == "TACHOMETER" || $scope.sraTextGauge.toUpperCase() == "SPEEDOMETER") {                    $attrs.sraArgsData += ";Car/REFERENCE/Messages";                    $scope.$watch("data.Car.REFERENCE.Messages.Value",$scope.updateColor);                    if ($scope.useSpeedometer) {                        $attrs.sraArgsData += ";Car/REFERENCE/Gauge/Speedometer/ValueCurrent";                        $scope.$watch("data.Car.REFERENCE.Gauge.Speedometer.ValueCurrent.State",        $scope.updateColor);                        $scope.$watch("data.Car.REFERENCE.Gauge.Speedometer.ValueCurrent.StatePercent", $scope.updateRevLights);                    }                    else {                        $scope.$watch("data.Car.REFERENCE.Gauge['"+$scope.sraTextGauge+"']['Value"+$scope.gaugeValue+"']['"+$scope.argsUOM+"'].StatePercent", $scope.updateRevLights);                    }                }                $rootScope.$on('sraResize', sraDispatcher.resize($scope,$element,self.defaultWidth,self.defaultHeight));           /**standard code that should be in every directive **/                $scope.names        = sraDispatcher.subscribe($scope,$attrs,self.defaultInterval); //register subscriptions and options to the dispatcher            }        };    }]);    return self;});</code></pre>
        </article>
        <!-- index.html -->
        <!-- class files -->
      </div>
      <footer style="clear:both">
        Documentation generated by
        <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>
        using
        <a href="https://github.com/allenhwkim/angular-jsdoc">Angular-JSDoc template</a>
      </footer>
    </div>
    <!--%= prettyJson %-->
    <script>
      prettyPrint();
      var lineNo = window.location.hash.match(/#line([0-9]+)$/);
      lineNo && document.querySelector("ol li:nth-child("+(lineNo[1])+")").scrollIntoView();
    </script>
  </body>
</html>