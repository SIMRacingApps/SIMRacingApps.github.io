<!doctype html>
<html>
  <head>
    <base href="../">
    <title>JSDoc: source : Chat.js</title>
    <link type="text/css" rel="stylesheet" href="css/jsdoc-default.css">
    <link href="css/prettify-tomorrow.css" type="text/css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,700" rel="stylesheet" type="text/css">
    <link href="css/custom.css" type="text/css" rel="stylesheet">
    <script src="js/prettify.js"></script>
    <script src="js/angular.min.js"></script>
  </head>
  <body ng-app="">
    <nav>
      <h2><a href="index.html">Index</a></h2>
      <ul class="module">
        <!-- undefined -->
        <h3>
          <a href="" ng-click="moduleundefined = !moduleundefined">
            module: undefined
          </a>
          <i ng-cloak="" ng-show="moduleundefined">+</i>
        </h3>
        <li id="undefined" ng-hide="moduleundefined">
          <ul class="group">
            <h3>
              <a href="" ng-click="undefinedapps = !undefinedapps">
                apps
              </a>
              <i ng-cloak="" ng-show="undefinedapps">+</i>
            </h3>
            <ul ng-hide="undefinedapps">
              <li>
                <a href="CrewChief.html">CrewChief</a>
              </li><li>
                <a href="CrewChief-Large.html">CrewChief-Large</a>
              </li><li>
                <a href="Dash-BarGauges-DigitalOverlay.html">Dash-BarGauges-DigitalOverlay</a>
              </li><li>
                <a href="Dash-Gauges-Spek.html">Dash-Gauges-Spek</a>
              </li><li>
                <a href="Dash-Gauges-Spek-Horizontal.html">Dash-Gauges-Spek-Horizontal</a>
              </li><li>
                <a href="Dash-Minimum.html">Dash-Minimum</a>
              </li><li>
                <a href="Dash-Small.html">Dash-Small</a>
              </li><li>
                <a href="Dash-StockCars-DigitalOverlay.html">Dash-StockCars-DigitalOverlay</a>
              </li><li>
                <a href="RaceAdministrator.html">RaceAdministrator</a>
              </li><li>
                <a href="Spectator.html">Spectator</a>
              </li><li>
                <a href="Spectator60.html">Spectator60</a>
              </li><li>
                <a href="Spotter.html">Spotter</a>
              </li><li>
                <a href="Spotter60.html">Spotter60</a>
              </li><li>
                <a href="StreamingOverlay.html">StreamingOverlay</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="undefineddirective = !undefineddirective">
                directive
              </a>
              <i ng-cloak="" ng-show="undefineddirective">+</i>
            </h3>
            <ul ng-hide="undefineddirective">
              <li>
                <a href="sra-analog-gauge.html">sra-analog-gauge</a>
              </li><li>
                <a href="sra-analog-gauge-spek-brake-pressure.html">sra-analog-gauge-spek-brake-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-fuel-level.html">sra-analog-gauge-spek-fuel-level</a>
              </li><li>
                <a href="sra-analog-gauge-spek-fuel-pressure.html">sra-analog-gauge-spek-fuel-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-h-y-s-charge.html">sra-analog-gauge-spek-h-y-s-charge</a>
              </li><li>
                <a href="sra-analog-gauge-spek-h-y-s-deployment.html">sra-analog-gauge-spek-h-y-s-deployment</a>
              </li><li>
                <a href="sra-analog-gauge-spek-oil-level.html">sra-analog-gauge-spek-oil-level</a>
              </li><li>
                <a href="sra-analog-gauge-spek-oil-pressure.html">sra-analog-gauge-spek-oil-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-oil-temp.html">sra-analog-gauge-spek-oil-temp</a>
              </li><li>
                <a href="sra-analog-gauge-spek-speedometer.html">sra-analog-gauge-spek-speedometer</a>
              </li><li>
                <a href="sra-analog-gauge-spek-tachometer.html">sra-analog-gauge-spek-tachometer</a>
              </li><li>
                <a href="sra-analog-gauge-spek-voltage.html">sra-analog-gauge-spek-voltage</a>
              </li><li>
                <a href="sra-analog-gauge-spek-water-level.html">sra-analog-gauge-spek-water-level</a>
              </li><li>
                <a href="sra-analog-gauge-spek-water-pressure.html">sra-analog-gauge-spek-water-pressure</a>
              </li><li>
                <a href="sra-analog-gauge-spek-water-temp.html">sra-analog-gauge-spek-water-temp</a>
              </li><li>
                <a href="sra-bar-gauge.html">sra-bar-gauge</a>
              </li><li>
                <a href="sra-bar-gauge-brake-pressure.html">sra-bar-gauge-brake-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-fuel-level.html">sra-bar-gauge-fuel-level</a>
              </li><li>
                <a href="sra-bar-gauge-fuel-pressure.html">sra-bar-gauge-fuel-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-h-y-s-charge.html">sra-bar-gauge-h-y-s-charge</a>
              </li><li>
                <a href="sra-bar-gauge-h-y-s-deployment.html">sra-bar-gauge-h-y-s-deployment</a>
              </li><li>
                <a href="sra-bar-gauge-oil-level.html">sra-bar-gauge-oil-level</a>
              </li><li>
                <a href="sra-bar-gauge-oil-pressure.html">sra-bar-gauge-oil-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-oil-temp.html">sra-bar-gauge-oil-temp</a>
              </li><li>
                <a href="sra-bar-gauge-speedometer.html">sra-bar-gauge-speedometer</a>
              </li><li>
                <a href="sra-bar-gauge-tachometer.html">sra-bar-gauge-tachometer</a>
              </li><li>
                <a href="sra-bar-gauge-voltage.html">sra-bar-gauge-voltage</a>
              </li><li>
                <a href="sra-bar-gauge-water-level.html">sra-bar-gauge-water-level</a>
              </li><li>
                <a href="sra-bar-gauge-water-pressure.html">sra-bar-gauge-water-pressure</a>
              </li><li>
                <a href="sra-bar-gauge-water-temp.html">sra-bar-gauge-water-temp</a>
              </li><li>
                <a href="sra-camera-selector.html">sra-camera-selector</a>
              </li><li>
                <a href="sra-camera-selector30.html">sra-camera-selector30</a>
              </li><li>
                <a href="sra-camera-selector-vertical30.html">sra-camera-selector-vertical30</a>
              </li><li>
                <a href="sra-car-controls.html">sra-car-controls</a>
              </li><li>
                <a href="sra-car-image.html">sra-car-image</a>
              </li><li>
                <a href="sra-car-left.html">sra-car-left</a>
              </li><li>
                <a href="sra-car-number.html">sra-car-number</a>
              </li><li>
                <a href="sra-car-number-extended.html">sra-car-number-extended</a>
              </li><li>
                <a href="sra-car-right.html">sra-car-right</a>
              </li><li>
                <a href="sra-car-selector.html">sra-car-selector</a>
              </li><li>
                <a href="sra-car-selector64.html">sra-car-selector64</a>
              </li><li>
                <a href="sra-car-telemetry.html">sra-car-telemetry</a>
              </li><li>
                <a href="sra-chat.html">sra-chat</a>
              </li><li>
                <a href="sra-data-table.html">sra-data-table</a>
              </li><li>
                <a href="sra-driver-info.html">sra-driver-info</a>
              </li><li>
                <a href="sra-flags.html">sra-flags</a>
              </li><li>
                <a href="sra-fuel-tank.html">sra-fuel-tank</a>
              </li><li>
                <a href="sra-gear.html">sra-gear</a>
              </li><li>
                <a href="sra-in-car-adjustments.html">sra-in-car-adjustments</a>
              </li><li>
                <a href="sra-in-garage.html">sra-in-garage</a>
              </li><li>
                <a href="sra-lap-times.html">sra-lap-times</a>
              </li><li>
                <a href="sra-lap-timing.html">sra-lap-timing</a>
              </li><li>
                <a href="sra-laps-banner.html">sra-laps-banner</a>
              </li><li>
                <a href="sra-messages.html">sra-messages</a>
              </li><li>
                <a href="sra-pedals.html">sra-pedals</a>
              </li><li>
                <a href="sra-pit-commander.html">sra-pit-commander</a>
              </li><li>
                <a href="sra-pit-road.html">sra-pit-road</a>
              </li><li>
                <a href="sra-radio-control.html">sra-radio-control</a>
              </li><li>
                <a href="sra-radio-transmitting.html">sra-radio-transmitting</a>
              </li><li>
                <a href="sra-relative.html">sra-relative</a>
              </li><li>
                <a href="sra-relative-small.html">sra-relative-small</a>
              </li><li>
                <a href="sra-replay-control.html">sra-replay-control</a>
              </li><li>
                <a href="sra-s-i-m-time.html">sra-s-i-m-time</a>
              </li><li>
                <a href="sra-s-r-a-logo.html">sra-s-r-a-logo</a>
              </li><li>
                <a href="sra-s-r-a-logo-u-r-l.html">sra-s-r-a-logo-u-r-l</a>
              </li><li>
                <a href="sra-shift-light.html">sra-shift-light</a>
              </li><li>
                <a href="sra-shift-lights.html">sra-shift-lights</a>
              </li><li>
                <a href="sra-standings.html">sra-standings</a>
              </li><li>
                <a href="sra-standings-banner.html">sra-standings-banner</a>
              </li><li>
                <a href="sra-standings-banner-class-vertical.html">sra-standings-banner-class-vertical</a>
              </li><li>
                <a href="sra-standings-banner-class-vertical20.html">sra-standings-banner-class-vertical20</a>
              </li><li>
                <a href="sra-standings-banner-vertical.html">sra-standings-banner-vertical</a>
              </li><li>
                <a href="sra-standings-banner-vertical20.html">sra-standings-banner-vertical20</a>
              </li><li>
                <a href="sra-standings-top-10.html">sra-standings-top-10</a>
              </li><li>
                <a href="sra-standings-top-20.html">sra-standings-top-20</a>
              </li><li>
                <a href="sra-standings-top-35.html">sra-standings-top-35</a>
              </li><li>
                <a href="sra-standings-top-43.html">sra-standings-top-43</a>
              </li><li>
                <a href="sra-standings-top-60.html">sra-standings-top-60</a>
              </li><li>
                <a href="sra-steering-wheel.html">sra-steering-wheel</a>
              </li><li>
                <a href="sra-team-speak-talking.html">sra-team-speak-talking</a>
              </li><li>
                <a href="sra-template.html">sra-template</a>
              </li><li>
                <a href="sra-time.html">sra-time</a>
              </li><li>
                <a href="sra-timing-delta.html">sra-timing-delta</a>
              </li><li>
                <a href="sra-tire.html">sra-tire</a>
              </li><li>
                <a href="sra-tire-measurements.html">sra-tire-measurements</a>
              </li><li>
                <a href="sra-track-map.html">sra-track-map</a>
              </li><li>
                <a href="sra-track-map-car.html">sra-track-map-car</a>
              </li><li>
                <a href="sra-track-map-finish-line.html">sra-track-map-finish-line</a>
              </li><li>
                <a href="sra-waiting-for-s-i-m.html">sra-waiting-for-s-i-m</a>
              </li><li>
                <a href="sra-weather-info.html">sra-weather-info</a>
              </li><li>
                <a href="sra-wind-gauge.html">sra-wind-gauge</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- module_____acing_pps -->
        <h3>
          <a href="" ng-click="modulemodule_____acing_pps = !modulemodule_____acing_pps">
            module: module:SIMRacingApps
          </a>
          <i ng-cloak="" ng-show="modulemodule_____acing_pps">+</i>
        </h3>
        <li id="module:SIMRacingApps" ng-hide="modulemodule_____acing_pps">
          <ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppsfilter = !module_____acing_ppsfilter">
                filter
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppsfilter">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppsfilter">
              <li>
                <a href="module-SIMRacingApps.sraCeil.html">sraCeil</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDate.html">sraDate</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDebug.html">sraDebug</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDecodeEntities.html">sraDecodeEntities</a>
              </li><li>
                <a href="module-SIMRacingApps.sraDuration.html">sraDuration</a>
              </li><li>
                <a href="module-SIMRacingApps.sraEncodeEntities.html">sraEncodeEntities</a>
              </li><li>
                <a href="module-SIMRacingApps.sraFloor.html">sraFloor</a>
              </li><li>
                <a href="module-SIMRacingApps.sraHex.html">sraHex</a>
              </li><li>
                <a href="module-SIMRacingApps.sraLowerCase.html">sraLowerCase</a>
              </li><li>
                <a href="module-SIMRacingApps.sraLPad.html">sraLPad</a>
              </li><li>
                <a href="module-SIMRacingApps.sraNumber.html">sraNumber</a>
              </li><li>
                <a href="module-SIMRacingApps.sraRGB.html">sraRGB</a>
              </li><li>
                <a href="module-SIMRacingApps.sraRound.html">sraRound</a>
              </li><li>
                <a href="module-SIMRacingApps.sraRPad.html">sraRPad</a>
              </li><li>
                <a href="module-SIMRacingApps.sraUpperCase.html">sraUpperCase</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppsdirective = !module_____acing_ppsdirective">
                directive
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppsdirective">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppsdirective">
              <li>
                <a href="module-SIMRacingApps-sra-data.html">sra-data</a>
              </li><li>
                <a href="module-SIMRacingApps-sra-horizontal-align.html">sra-horizontal-align</a>
              </li><li>
                <a href="module-SIMRacingApps-sra-resize.html">sra-resize</a>
              </li><li>
                <a href="module-SIMRacingApps-sra-vertical-align.html">sra-vertical-align</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppscontroller = !module_____acing_ppscontroller">
                controller
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppscontroller">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppscontroller">
              <li>
                <a href="module-SIMRacingApps-sraController.html">sraController</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" ng-click="module_____acing_ppsfactory = !module_____acing_ppsfactory">
                factory
              </a>
              <i ng-cloak="" ng-show="module_____acing_ppsfactory">+</i>
            </h3>
            <ul ng-hide="module_____acing_ppsfactory">
              <li>
                <a href="module-SIMRacingApps-sraDispatcher.html">sraDispatcher</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul>
    </nav>
    <div id="content" class="page-wrap">
      <h1 class="title">
        source : Chat.js
      </h1>
      <div id="main" class="big-container">
        <!-- source code html -->
        <article>
          <pre class="prettyprint source linenums"><code>'use strict';/** * The Chat Widget sends predefined messages with a click of a button. * You can also send private messages directly to a specific car. * You can also select LEADER, AHEAD, BEHIND, or REPLY to let the system determine the car to send to. * Just click the button or car first, then click the text.  * Here is a list of the predefined messages. * &lt;dl> *      &lt;dt>ALL ME&lt;/dt>&lt;dd>[#[CARNUMBER]] All Me&lt;/dd> *      &lt;dt>GOOD LUCK&lt;/dt>&lt;dd>[#[CARNUMBER]] Good Luck from SIMRacingApps.com&lt;/dd> *      &lt;dt>GOOD RACE&lt;/dt>&lt;dd>[#[CARNUMBER]] Good Race from SIMRacingApps.com&lt;/dd> *      &lt;dt>GOOD WIN - Sends to Leader by default.&lt;/dt>&lt;dd>/LEADER [#[CARNUMBER]] Good Win&lt;/dd> *      &lt;dt>HELLO&lt;/dt>&lt;dd>[#[CARNUMBER]] Hello&lt;/dd> *      &lt;dt>LOL&lt;/dt>&lt;dd>[#[CARNUMBER]] LoL&lt;/dd> *      &lt;dt>NO PROBLEM&lt;/dt>&lt;dd>[#[CARNUMBER]] No Problem&lt;/dd> *      &lt;dt>OK&lt;/dt>&lt;dd>[#[CARNUMBER]] Ok&lt;/dd> *      &lt;dt>PASS LEFT - Sends to Car BEHIND by default.&lt;/dt>&lt;dd>/RL-1 [#[CARNUMBER]] Pass Left&lt;/dd> *      &lt;dt>PASS RIGHT - Sends to Car BEHIND by default.&lt;/dt>&lt;dd>/RL-1 [#[CARNUMBER]] Pass Right&lt;/dd> *      &lt;dt>PITTING IN&lt;/dt>&lt;dd>[#[CARNUMBER]] Pitting In&lt;/dd> *      &lt;dt>PITTING OUT&lt;/dt>&lt;dd>[#[CARNUMBER]] Pitting Out&lt;/dd> *      &lt;dt>RACING DEAL&lt;/dt>&lt;dd>[#[CARNUMBER]] Racing Deal&lt;/dd> *      &lt;dt>SORRY&lt;/dt>&lt;dd>[#[CARNUMBER]] Sorry&lt;/dd> *      &lt;dt>SWITCH IN 1&lt;/dt>&lt;dd>[#[CARNUMBER]] Switch In 1&lt;/dd> *      &lt;dt>SWITCH IN 3&lt;/dt>&lt;dd>[#[CARNUMBER]] Switch In 3&lt;/dd> *      &lt;dt>THANKS - Sends to Car BEHIND by default.&lt;/dt>&lt;dd>/RL-1 [#[CARNUMBER]] Thanks&lt;/dd> *      &lt;dt>YOU'RE WELCOME - Sends to the Car AHEAD by default.&lt;/dt>&lt;dd>/RL1 [#[CARNUMBER]] You're Welcome&lt;/dd> *      &lt;dt>@ALLTEAMS&lt;/dt>&lt;dd>@transmit ALLTEAMS&lt;/dd> *      &lt;dt>@DRIVERS&lt;/dt>&lt;dd>@transmit DRIVERS&lt;/dd> *      &lt;dt>@TEAM&lt;/dt>&lt;dd>@transmit TEAM&lt;/dd> *      &lt;dt>@CLUB&lt;/dt>&lt;dd>@transmit CLUB&lt;/dd> *      &lt;dt>@RACE CONTROL&lt;/dt>&lt;dd>@transmit RACECONTROL&lt;/dd> *      &lt;dt>@PRIVATE&lt;/dt>&lt;dd>@transmit PRIVATE&lt;/dd> *      &lt;dt>@ADD CH - adds a radio channel using the selected car number. CHxxx&lt;/dt>&lt;dd>@add CH[CARORME]&lt;/dd> *      &lt;dt>JOIN ME @CH - Invite others to join your channel&lt;/dt>&lt;dd>[#[CARNUMBER]] Join Me @ADD CH[CARNUMBER]&lt;/dd> *      &lt;dt>@CH&lt;/dt>&lt;dd>@transmit CH[CARORME]&lt;/dd> *      &lt;dt>?&lt;/dt>&lt;dd>[#[CARNUMBER]] ?&lt;/dd> * &lt;/dl> * The default messages can be changed in the settings.txt file using the following variables. * There are 6 rows and 4 columns that you can reference for 24 possible predefined messages. * The text is optional, and will use the default text if the button name is one of the predefined ones. * The predefined text puts your car number at the beginning of all messages. * &lt;pre> *    chat-row1-col1-name = Button Name *    chat-row1-col1-text = Text To Send * &lt;/pre> * You can have multiple instances of chat with a different name.  * See the parameter data-sra-args-chat-instance. * Just replace the word "chat" in the variable to your instance name, in this example, "chat2". * &lt;pre> *    chat2-row1-col1-name = Button Name *    chat2-row1-col1-text = Text To Send * &lt;/pre> *  * The text can also have variables embedded with it. The following variables are allowed. * &lt;ul> *   &lt;li>[CAR] - The car number that the message will be sent to.&lt;/li> *   &lt;li>[CARORME] - The car number selected or ME if no car selected&lt;/li> *   &lt;li>[CARNUMBER] - Your Car Number&lt;/li> *   &lt;li>[DRIVERNAME] - Your Name&lt;/li> * &lt;/ul> * You can also embed any SendKeys sequence in the text. See &lt;a href='../../../JavaDoc/com/SIMRacingApps/Util/SendKeys.html'>SendKeys&lt;/a>. *  * If the text begins with a slash, then the "word" following the slash will be used to send the message to that car identifier. * It will also accept "REPLY" as a car identifier to send the message to the last person to send you a private message. * If you have already selected a car to send to, then that car will override. Think of '/' as a way to define a default car. * As a convention, I also put a slash at the beginning of the name followed with the car number.   * For Example, Pass Left almost always applies to the car behind you. Why send to all cars?: * &lt;pre> *    chat-row1-col1-name = /[CAR]&lt;br />PASS LEFT *    chat-row1-col1-text = /RL-1 [#[CARNUMBER]] Pass Left * &lt;/pre> * &lt;p> * Example: * &lt;p>&lt;b> * &lt;sra-chat&gt;&lt;/sra-chat&gt;&lt;br /> * &lt;/b> * &lt;img src="../widgets/Chat/icon.png" alt="Image goes here"/> * @ngdoc directive * @name sra-chat * @param {string} data-sra-args-chat-instance The name of this instance for the settings.txt variable prefix. Defaults to "chat". * @param {integer} data-sra-args-interval The interval, in milliseconds, that this widget will update from the server. Default is 500. * @author Jeffrey Gilliam * @since 1.0 * @copyright Copyright (C) 2015 - 2019 Jeffrey Gilliam * @license Apache License 2.0 */define(['SIMRacingApps','css!widgets/Chat/Chat','widgets/CarSelector64/CarSelector64'],function(SIMRacingApps) {    var self = {        name:            "sraChat",        url:             'Chat',        template:        'Chat.html',        defaultWidth:    800,        defaultHeight:   480,        defaultInterval: 500   //initialize with the default interval    };    self.module = angular.module('SIMRacingApps'); //get the main module    self.module.directive(self.name,           ['sraDispatcher', '$filter', '$rootScope', '$timeout',    function(sraDispatcher,   $filter,   $rootScope,   $timeout) {        return {            restrict:    'EA',            scope:       true,            templateUrl: sraDispatcher.getWidgetUrl(self.url) + '/' + self.template,            controller: [ '$scope', function($scope) {                $scope.directiveName   = self.name;                $scope.defaultWidth    = self.defaultWidth;                $scope.defaultHeight   = self.defaultHeight;                $scope.defaultInterval = self.defaultInterval;                $scope.translations     = {};                $scope.clickDelay       = 2000;                $scope.chatInstance     = 'chat';                $scope.carClickedScope  = null;                $scope.car              = "";                $scope.rows             = [1,2,3,4,5,6];                $scope.cols             = [1,2,3,4];                $scope.sraButtonsOriginal={};                $scope.sraButtons       = {};                $scope.clickedStatus    = 'N';                $scope.sraButtonDefaults= {                    "row1-col1": "PASS LEFT",                    "row2-col1": "PASS RIGHT",                    "row3-col1": "NO PROBLEM",                    "row4-col1": "SORRY",                    "row5-col1": "ALL ME",                    "row6-col1": "THANKS",                    "row1-col2": "GOOD LUCK",                    "row2-col2": "GOOD WIN",                    "row3-col2": "RACING DEAL",                    "row4-col2": "OK",                    "row5-col2": "GOOD RACE",                    "row6-col2": "YOU'RE WELCOME",                    "row1-col3": "@ADD CH",                    "row2-col3": "JOIN ME @CH",                    "row3-col3": "LOL",                    "row4-col3": "HELLO",                    "row5-col3": "SWITCH IN 1",                    "row6-col3": "SWITCH IN 3",                    "row1-col4": "@CH",                    "row2-col4": "@TEAM",                    "row3-col4": "@CLUB",                    "row4-col4": "@ALLTEAMS",                    "row5-col4": "PITTING IN",                    "row6-col4": "PITTING OUT",                };                $scope.updateVariables = function(button,defaultCar) {                    if (button) {                        var car  = $scope.car || defaultCar || "";                        var name = $scope.sraButtonsOriginal[button].name;                        var text = $scope.sraButtonsOriginal[button].text;                        while (name.indexOf("[CARORME]") >= 0)                            name = name.replace("[CARORME]", $scope.car || $scope.data.Car.ME.Number.ValueFormatted);                        while (name.indexOf("[CAR]") >= 0)                            name = name.replace("[CAR]", car);                        while (name.indexOf("[CARNUMBER]") >= 0)                            name = name.replace("[CARNUMBER]", $scope.data.Car.ME.Number.ValueFormatted);                        while (name.indexOf("[DRIVERNAME]") >= 0)                            name = name.replace("[DRIVERNAME]",$scope.data.Car.ME.DriverName.ValueFormatted);                        while (text.indexOf("[CARORME]") >= 0)                            text = text.replace("[CARORME]", $scope.car || $scope.data.Car.ME.Number.ValueFormatted);                        while (text.indexOf("[CAR]") >= 0)                            text = text.replace("[CAR]", car);                        while (text.indexOf("[CARNUMBER]") >= 0)                            text = text.replace("[CARNUMBER]", $scope.data.Car.ME.Number.ValueFormatted);                        while (text.indexOf("[DRIVERNAME]") >= 0)                            text = text.replace("[DRIVERNAME]",$scope.data.Car.ME.DriverName.ValueFormatted);                        $scope.sraButtons[button].name = name;                        $scope.sraButtons[button].text = text;                    }                };                $scope.carClicked = function($clickedScope,car) {                    if (car) {                        console.log("Chat.carClicked("+car+")");                        //See if the car passed in is an alias and retrieve the actual car number                        if ($scope.data.Car[car] && $scope.data.Car[car].Number)                            car = $scope.data.Car[car].Number.ValueFormatted;                        //if a previous car was already selected, unselect it                        if ($scope.carClickedScope && car != $scope.car) {                            $scope.carClickedScope.setClickedState('none');                        }                        if ($clickedScope.getClickedState() == 'clicked') {                            $clickedScope.setClickedState('none');                            $scope.carClickedScope  = null;                            $scope.car              = "";                        }                        else {                            $clickedScope.setClickedState('clicked');                            $scope.carClickedScope  = $clickedScope;                            $scope.car              = car;                        }                        //now update all the buttons in case they are bound to the selected car                        for (var v in $scope.sraButtonsOriginal) {                            $scope.updateVariables(v,$scope.data.Car[$scope.sraButtonsOriginal[v].car] ? $scope.data.Car[$scope.sraButtonsOriginal[v].car].Number.ValueFormatted : "");                        }                    }                };                $scope.onButtonClick = function(scope,value,button) {                    console.log('Chat.onButtonClick('+button+') = '+$scope.car+' '+$scope.sraButtons[button].text);                    if ($scope.sraButtons[button].name && $scope.sraButtons[button].text) {                        scope.clickedStatus = 'Y';                        var car  = $scope.car || $scope.sraButtonsOriginal[button].car;                        $scope.updateVariables(button,$scope.data.Car[car] ? $scope.data.Car[car].Number.ValueFormatted : "");                        if (car                         &&  car != "ALL"                                           //all cars                        &&  car != $scope.data.Car.ME.Number.ValueFormatted        //myself                        &&  $scope.sraButtons[button].text.substring(0,1) != '@'   //radio commands                        &&  $scope.sraButtons[button].text.substring(0,1) != '!'   //admin commands                        &&  $scope.sraButtons[button].text.substring(0,1) != '#'   //pit commands                        ) {                            if (car == "REPLY") {                                $scope.sendCommand("Session/setChatReply/" + $scope.sraButtons[button].text);                            }                            else {                                $scope.sendCommand("Car/" + car + "/setChat/" + $scope.sraButtons[button].text);                            }                        }                        else {                            $scope.sendCommand("Session/setChat/" + $scope.sraButtons[button].text);                        }                        //unselect the car any time a button is clicked.                        if ($scope.carClickedScope)                            $scope.carClickedScope.setClickedState('none');                        $scope.carClickedScope = null;                        $scope.car = "";                        //now update all the buttons in case they are bound to the selected car                        for (var v in $scope.sraButtonsOriginal) {                            $scope.updateVariables(v,$scope.data.Car[$scope.sraButtonsOriginal[v].car] ? $scope.data.Car[$scope.sraButtonsOriginal[v].car].Number.ValueFormatted : "");                        }                        $timeout(function(scope) {                            scope.clickedStatus = 'N';                        }, $scope.clickDelay,null,scope);                    }                };                $scope.sendCommand = function(command) {                    sraDispatcher.sendCommand(command);                    console.log(command);                };                $scope.updateName = function(button,value) {                    //if a non blank value is passed in, the user has overridden the button in the settings.txt file.                    if (value && value !== 'undefined' && value !== '__default') {                        $scope.sraButtonsOriginal[button].name = value;                    }                };                $scope.updateText = function(button,value) {                    //if a non blank value is passed in, the user has overridden the button in the settings.txt file.                    if (value) {                        //if the text starts with a slash, parse the car identifier off and subscribe to it's number                        if (value.substring(0,1) == '/') {                            //take the next word and use it as the car identifier to send the text to                            $scope.sraButtonsOriginal[button].car  = value.substring(1).split(" ")[0];                            $scope.sraButtonsOriginal[button].text = value.substring($scope.sraButtonsOriginal[button].car.length+2);                            sraDispatcher.subscribe($scope,{                                sraArgsData: "Car/"+$scope.sraButtonsOriginal[button].car+"/Number"                            },self.defaultInterval);                            //Now watch for changes to this car and update the name                            $scope.$watch(                                    "data.Car['"+$scope.sraButtonsOriginal[button].car+"'].Number.ValueFormatted",                                    new Function('newValue','oldValue','$scope','$scope.updateVariables("'+button+'",newValue);')                            );                        }                        else {                            $scope.sraButtonsOriginal[button].car  = "";                            $scope.sraButtonsOriginal[button].text = value;                            $scope.updateVariables(button,"");                            $scope.$watch(                                    "data.Car['ME'].Number.ValueFormatted",                                    new Function('newValue','oldValue','$scope','$scope.updateVariables("'+button+'",newValue);')                            );                            $scope.$watch(                                    "data.Car['ME'].DriverName.ValueFormatted",                                    new Function('newValue','oldValue','$scope','$scope.updateVariables("'+button+'",newValue);')                            );                            $scope.$watch(                                    "data.Car['LEADERCLASS'].Number.ValueFormatted",                                    new Function('newValue','oldValue','$scope','$scope.updateVariables("'+button+'",newValue);')                            );                            $scope.$watch(                                    "data.Car['RL1'].Number.ValueFormatted",                                    new Function('newValue','oldValue','$scope','$scope.updateVariables("'+button+'",newValue);')                            );                            $scope.$watch(                                    "data.Car['RL-1'].Number.ValueFormatted",                                    new Function('newValue','oldValue','$scope','$scope.updateVariables("'+button+'",newValue);')                            );                        }                    }                };            }]            , link: function($scope,$element,$attrs) {                //copy arguments to our scope. First if using attribute, second tag, else default to something.                $attrs.sraArgsData = $attrs.sraArgsData || "";                $scope.value =                 $scope[self.name] = sraDispatcher.getTruthy($scope.sraArgsVALUE, $attrs[self.name], $attrs.sraArgsValue, "DefaultValue");                $scope.chatInstance = sraDispatcher.getTruthy($scope.sraArgsCHATINSTANCE,$attrs.sraArgsChatInstance,"chat");                /** your code goes here **/                $attrs.sraArgsData += ";Car/ME/Number;Car/ME/DriverName";                //These are buttons from CarSelector that I have enabled.                $attrs.sraArgsData += ";Car/LEADERCLASS/Number";                $attrs.sraArgsData += ";Car/RL1/Number";                $attrs.sraArgsData += ";Car/RL-1/Number";                for (var row=0; row &lt; $scope.rows.length; row++) {                    for (var col=0; col &lt; $scope.cols.length; col++) {                        var button = 'row'+$scope.rows[row]+'-col'+$scope.cols[col];                        $attrs.sraArgsData += ";Setting/"+$scope.chatInstance+"-"+button+"-name/__default;Setting/"+$scope.chatInstance+"-"+button+"-text";                        $scope.sraButtonsOriginal[button] = {};                        $scope.sraButtonsOriginal[button].name = $scope.sraButtonDefaults[button] || "";                        $scope.sraButtonsOriginal[button].text = "";  //This comes from the translations when it loads them                        $scope.sraButtonsOriginal[button].car  = "";                        $scope.sraButtons[button] = {};                        $scope.sraButtons[button].name = "";                        $scope.sraButtons[button].text = "";                        $scope.$watch(                                "data.Setting['"+$scope.chatInstance+"-"+button+"-name'].__default.ValueFormatted",                                new Function('newValue','oldValue','$scope','$scope.updateName("'+button+'",newValue,$scope);')                        );                        $scope.$watch(                                "data.Setting['"+$scope.chatInstance+"-"+button+"-text'].ValueFormatted",                                new Function('newValue','oldValue','$scope','$scope.updateText("'+button+'",newValue,$scope);')                        );                    }                }                /**standard code that should be in every directive **/                $rootScope.$on('sraResize', sraDispatcher.resize($scope,$element,self.defaultWidth,self.defaultHeight));                //register with the dispatcher                $scope.names = sraDispatcher.subscribe($scope,$attrs,self.defaultInterval); //register subscriptions and options to the dispatcher                //load translations, if you have any comment out if you do not so it will not look for them                sraDispatcher.loadTranslations(sraDispatcher.getWidgetUrl(self.url),'text',function(path) {                    $scope.translations = sraDispatcher.getTranslation(path);                    //since the translations could load after the buttons have been sent from the server                    //we need to update them if the button is not already assigned.                    for (var button in $scope.sraButtonsOriginal) {                        var name = $scope.sraButtonsOriginal[button].name;                        if (name && !$scope.sraButtonsOriginal[button].text && $scope.translations[name]) {                            $scope.updateName(button,$scope.translations[name].name);                            $scope.updateText(button,$scope.translations[name].text);                        }                    }                });            }        };    }]);    return self;});</code></pre>
        </article>
        <!-- index.html -->
        <!-- class files -->
      </div>
      <footer style="clear:both">
        Documentation generated by
        <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>
        using
        <a href="https://github.com/allenhwkim/angular-jsdoc">Angular-JSDoc template</a>
      </footer>
    </div>
    <!--%= prettyJson %-->
    <script>
      prettyPrint();
      var lineNo = window.location.hash.match(/#line([0-9]+)$/);
      lineNo && document.querySelector("ol li:nth-child("+(lineNo[1])+")").scrollIntoView();
    </script>
  </body>
</html>